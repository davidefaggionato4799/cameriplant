<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cameri Plant</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Reset di base */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        /* Sfondo */
        body {
            background-image: url('background.jpg'); /* Sostituisci con l'immagine di sfondo */
            background-size: cover;
            background-position: center;
            font-family: 'Lato', sans-serif;
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            margin: 0;
        }

        /* Layout principale */
        .container {
            width: 90%;
            max-width: 1600px;
            padding: 0;
            position: relative;
            margin: 0 2%;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Lato', sans-serif;
            font-size: 24px;
            font-weight: bold;
            margin-top: 0;
        }
        
        /* Logo e titolo */
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 35px;
            margin-right: 10px;
        }
        
        .title {
            font-size: 24px;
            text-align: center;
        }
        
        /* Data e ora */
        .datetime {
            font-size: 24px;
            font-family: 'Lato', sans-serif;
        }
        
        /* Testo scorrevole */
        .marquee {
            margin-top: 5px;
            font-size: 24px;
            font-weight: bold;
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
            animation: marquee 15s linear infinite;
            font-family: 'Lato', sans-serif;
            position: relative;
        }

        /* Animazione per testo scorrevole da sinistra a destra */
        @keyframes marquee {
            0% { transform: translateX(-50%); }
            100% { transform: translateX(110%); }
        }

        /* Widget meteo */
        .weather-widget {
            margin-top: 10px;
        }

        /* Margine tra widget meteo e slider */
        .weather-widget + .slider {
            margin-top: 10px;
        }

        /* Slider immagini */
        .slider {
            margin: 0 auto;
            width: 100%;
            height: 70vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .slides {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .slides img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            position: absolute;
            opacity: 0;
            transition: opacity 1s;
        }
        
        .slides img.active {
            opacity: 1;
        }

        /* Fullscreen styling */
        .slider.fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            background-color: rgba(0, 0, 0, 0.8); /* Background scuro */
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header con logo, titolo e data/ora -->
        <div class="header">
            <div class="logo">
                <img src="logo.png" alt="Logo"> <!-- Aggiungi il logo qui -->
                <span class="title">CAMERI PLANT</span>
            </div>
            <div class="datetime" id="datetime"></div>
        </div>

        <!-- Testo scorrevole -->
        <div class="marquee" id="marquee"></div>

        <!-- Widget meteo -->
        <div class="weather-widget">
            <a class="weatherwidget-io" href="https://forecast7.com/en/45d508d66/cameri/" data-label_1="CAMERI AIRPORT" data-label_2="WEATHER" data-font="Arial Black" data-icons="Climacons Animated" data-theme="pure" data-basecolor="rgba(0, 0, 0, 0.2)" data-textcolor="#ffffff">CAMERI AIRPORT WEATHER</a>
            <script>
                function loadWeatherWidget() {
                    // Rimuove lo script precedente se esiste
                    const oldScript = document.getElementById('weatherwidget-io-js');
                    if (oldScript) oldScript.remove();

                    // Aggiunge di nuovo il widget per forzare l'aggiornamento
                    const newScript = document.createElement('script');
                    newScript.id = 'weatherwidget-io-js';
                    newScript.src = 'https://weatherwidget.io/js/widget.min.js';
                    document.getElementsByTagName('head')[0].appendChild(newScript);
                }

                // Carica il widget inizialmente e imposta l'intervallo per aggiornarlo ogni 30 minuti
                loadWeatherWidget();
                setInterval(loadWeatherWidget, 1800000); // 30 minuti in millisecondi
            </script>
        </div>

        <!-- Slider -->
        <div class="slider">
            <div class="slides">
                <img src="img1.jpg" alt="Slide 1" class="active">
                <img src="img2.jpg" alt="Slide 2">
                <img src="img3.jpg" alt="Slide 3">
                <img src="img4.jpg" alt="Slide 4">
                <img src="img5.jpg" alt="Slide 5">
                <img src="img6.jpg" alt="Slide 6">
                <img src="img7.jpg" alt="Slide 7">
                <img src="img8.jpg" alt="Slide 8">
                <img src="img9.jpg" alt="Slide 9">
                <img src="img10.jpg" alt="Slide 10">
                <img src="img11.jpg" alt="Slide 11">
                <img src="img12.jpg" alt="Slide 12">
                <img src="img13.jpg" alt="Slide 13">
                <img src="img14.jpg" alt="Slide 14">
                <img src="img15.jpg" alt="Slide 15">
                <img src="img16.jpg" alt="Slide 16">
                <img src="img17.jpg" alt="Slide 17">
                <img src="img18.jpg" alt="Slide 18">
                <img src="img19.jpg" alt="Slide 19">
                <img src="img20.jpg" alt="Slide 20">
                <img src="end.jpg" alt="Slide 21">
            </div>
            <div id="escBtn" style="display:none; position:absolute; top:10px; right:10px; z-index: 1001;">
                <button style="background-color: rgba(0, 0, 0, 0.5); font-size: 12px; opacity: 0.7; padding: 5px 10px; border-radius: 5px; color: white;">ESC</button>
            </div>
        </div>

        <!-- Pulsanti di navigazione -->
        <div style="position: absolute; bottom: 10px; left: 10px; display: flex; flex-direction: column; gap: 10px;">
            <div style="display: flex; gap: 10px;">
                <button id="prevBtn" style="background-color: rgba(0, 0, 0, 0.5); font-size: 12px; opacity: 0.7; padding: 5px 10px; border-radius: 5px; color: white;">←</button>
                <button id="playPauseBtn" style="background-color: rgba(0, 0, 0, 0.5); font-size: 12px; opacity: 0.7; padding: 5px 10px; border-radius: 5px; color: white;">PAUSE</button>
                <button id="nextBtn" style="background-color: rgba(0, 0, 0, 0.5); font-size: 12px; opacity: 0.7; padding: 5px 10px;; border-radius: 5px; color: white;">→</button>
            </div>
            <button id="fullscreenBtn" style="background-color: rgba(0, 0, 0, 0.5); font-size: 12px; opacity: 0.7; padding: 5px 10px;; border-radius: 5px; color: white;">FULLSCREEN</button>
        </div>
    </div>

    <!-- Script per la data e ora -->
    <script>
        function updateDateTime() {
            const now = new Date();
            
            // Giorno della settimana in inglese
            const options = { weekday: 'long' };
            const dayOfWeek = now.toLocaleDateString('en-US', options).toUpperCase();
            
            // Formattazione della data in DD/MM/YYYY
            const formattedDate = now.toLocaleDateString('it-IT');
            const formattedTime = now.toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            
            document.getElementById('datetime').innerText = `${dayOfWeek}, ${formattedDate} - ${formattedTime}`;
        }
        setInterval(updateDateTime, 1000);
        updateDateTime();
    </script>

    <!-- Script per il testo scorrevole -->
    <script>
        const messages = [
            "WELCOME TO CAMERI PLANT",
            "BENVENUTI NELLO STABILIMENTO DI CAMERI",
            "BIENVENUS SUR LE SITE DE CAMERI"
        ];

        let currentMessageIndex = 0;
        const marqueeElement = document.getElementById('marquee');

        function updateMarquee() {
            marqueeElement.innerText = messages[currentMessageIndex];
            currentMessageIndex = (currentMessageIndex + 1) % messages.length;
        }

        setInterval(updateMarquee, 15000);
        updateMarquee();
    </script>

    <!-- Script per lo slideshow -->
    <script>
        let currentIndex = 0;
        const slides = document.querySelectorAll('.slides img');
        const totalSlides = slides.length;
        const slideInterval = 30000; // Intervallo di 30 secondi
        let waitTime = 10000; // Aspetta 10 secondi dopo l'ultima slide
        let autoSlideInterval;

        function showSlide(index) {
            slides[currentIndex].classList.remove('active');
            currentIndex = (index + totalSlides) % totalSlides; // Assicura che l'indice sia sempre valido
            slides[currentIndex].classList.add('active');
        }

        function nextSlide() {
            showSlide(currentIndex + 1);
        }

        function prevSlide() {
            showSlide(currentIndex - 1);
        }

        function playSlides() {
            nextSlide();
            autoSlideInterval = setInterval(nextSlide, slideInterval);
        }

        function pauseSlides() {
            clearInterval(autoSlideInterval);
        }

        document.getElementById('nextBtn').addEventListener('click', nextSlide);
        document.getElementById('prevBtn').addEventListener('click', prevSlide);
        document.getElementById('playPauseBtn').addEventListener('click', function() {
            if (this.innerText === 'PAUSE') {
                pauseSlides();
                this.innerText = 'PLAY';
            } else {
                playSlides();
                this.innerText = 'PAUSE';
            }
        });

        // Fullscreen
        document.getElementById('fullscreenBtn').addEventListener('click', function() {
            const slider = document.querySelector('.slider');
            if (slider.requestFullscreen) {
                slider.requestFullscreen();
            } else if (slider.mozRequestFullScreen) { // Firefox
                slider.mozRequestFullScreen();
            } else if (slider.webkitRequestFullscreen) { // Chrome, Safari and Opera
                slider.webkitRequestFullscreen();
            } else if (slider.msRequestFullscreen) { // IE/Edge
                slider.msRequestFullscreen();
            }
            slider.classList.add('fullscreen');
            document.getElementById('escBtn').style.display = 'block'; // Mostra il pulsante ESC
        });

        document.getElementById('escBtn').addEventListener('click', function() {
            const slider = document.querySelector('.slider');
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.mozCancelFullScreen) { // Firefox
                document.mozCancelFullScreen();
            } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) { // IE/Edge
                document.msExitFullscreen();
            }
            slider.classList.remove('fullscreen');
            this.style.display = 'none'; // Nascondi il pulsante ESC
        });

        // Avvia lo slideshow all'apertura della pagina
        playSlides();
    </script>
</body>
</html>

